<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Building and running the unit tests &#8212; x3d2  documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=d1102ebc" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=12dfc556" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=eafc0fe6" />
    <script src="../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Contributing guidelines" href="contributing_guidelines.html" />
    <link rel="prev" title="Setting up for development" href="dev_environment.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="building-and-running-the-unit-tests">
<h1>Building and running the unit tests<a class="headerlink" href="#building-and-running-the-unit-tests" title="Link to this heading">Â¶</a></h1>
<p>x3d2 is in early development phase, and there is no main executable
yet to be built.  However, currently implemented functionality is
covered by unit tests, which you can build and run on you development
machine.</p>
<p>To build x3d2, you will need git, a fortran compiler and CMake, see
<a class="reference internal" href="tooling.html#tooling"><span class="std std-ref">Required tools</span></a>.</p>
<p>Start by configuring the build directory:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cmake<span class="w"> </span>-S<span class="w"> </span>.<span class="w"> </span>-B<span class="w"> </span>build<span class="w"> </span>-DCMAKE_BUILD_TYPE<span class="o">=</span>Debug
</pre></div>
</div>
<p>To configure the build with the NVIDIA Fortran compiler, you can set
the <cite>FC</cite> environment variable to the compiler executable.  If you
specify an relative path, it must be present in your current <cite>PATH</cite>.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nv">FC</span><span class="o">=</span>nvfortran<span class="w"> </span>cmake<span class="w"> </span>-S<span class="w"> </span>.<span class="w"> </span>-B<span class="w"> </span>build<span class="w"> </span>-DCMAKE_BUILD_TYPE<span class="o">=</span>Debug
</pre></div>
</div>
<p>Setting the Fortran compiler to the NVIDIA Fortran compiler will
automatically include the CUDA Fortran source files into the build
tree, which are ignored by default.</p>
<p>Once the build directory is configured, the tests can be built and run
as follows:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">cd</span><span class="w"> </span>build
<span class="gp">$ </span>make
<span class="gp">$ </span>make<span class="w"> </span><span class="nb">test</span>
</pre></div>
</div>
<p>Note that <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">test</span></code> is only a launcher for the <code class="docutils literal notranslate"><span class="pre">ctest</span></code>
executable.  By default <code class="docutils literal notranslate"><span class="pre">ctest</span></code> does not show the output of test
executables on failure.  If one of more tests fail, you probably want
to run the tests with:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>ctest<span class="w"> </span>--output-on-failure
</pre></div>
</div>
<p>instead of <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">test</span></code>.</p>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">x3d2</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../report_a_bug.html">Report a bug</a></li>
<li class="toctree-l1"><a class="reference internal" href="../internals/index.html">Internals</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Contributing to x3d2</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="contribution_workflow.html">Overview of the contribution process</a></li>
<li class="toctree-l2"><a class="reference internal" href="tooling.html">Required tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="dev_environment.html">Setting up for development</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Building and running the unit tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing_guidelines.html">Contributing guidelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="style.html">Fortran style guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="writing_docs.html">Contributing documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="https://xcompact3d.github.io/x3d2/api">API reference</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">Contributing to x3d2</a><ul>
      <li>Previous: <a href="dev_environment.html" title="previous chapter">Setting up for development</a></li>
      <li>Next: <a href="contributing_guidelines.html" title="next chapter">Contributing guidelines</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2023, Xcompact3D team.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 7.2.6</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
      |
      <a href="../_sources/developer/build.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>